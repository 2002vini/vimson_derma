{% extends 'temp_base.html' %}
{% load static %}

{% block title %}Home Page{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/products.css' %}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Passion+One:wght@400;700;900&family=Roboto:wght@600&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
<style>
    .products-display {
        background-image: url("{% static '/images/mens_grooming_hero.png' %}");     
    }
    .facecare-section-container {
        background: linear-gradient(rgba(20, 32, 97, 0.5), rgba(20, 32, 97, 0.8)), 
        url('/static/images/mens_grooming_info.png');
        background-size: cover;
        background-position: center;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid products-display">
</div>


<div class="container mb-5 p-2">

  <div class="blog-title">
      <h4 class="heading text-center mt-5 mb-5">New Product</h4>
  </div>         
  <div class="row ">
    {% for product in products %}
      <div class="col-md-4 col-sm-12">
          <div class="blog-card">
              <img src="{{product.image}}" alt="Skincare Image">
              <div class="blog-content">
                  <div class="tags">
                      {% for sub in product.subcategory %}
                      <span class="tag">{{sub}}</span>
                      {%endfor%}
                  </div>
                  <div class="product-card-title">{{product.name}}</div>
                  <div class="product-card-description">{{product.description}}</div>
              </div>
          </div>
      </div>
      {% endfor %}
  </div> 
  
</div>


<section class="facecare-section-container container">

  <div class="facecare-overlay"></div>
  
  <div class="facecare-text-left">
    <h6 class="heading text-center">Men’s Grooming Product 
    <br>Manufacturers</h6>
    <p>Healthy and Strong hair from the root to the tip</p>
  </div>

  <div class="facecare-text-right">
    <p>
    The modern man is no longer sidelining skincare and grooming. He’s investing in it. With rising awareness about skincare, self-image, and wellness, the men’s grooming market in India and globally is booming. From managing oily skin and preventing post-shave irritation to styling unruly beards and tackling scalp build-up, men today are actively seeking solutions tailored to their unique needs.That’s why brands today are launching dedicated men’s grooming lines and seeing results. At Vimson Derma, we help you stay ahead with high-performance formulations that meet the modern man’s real concerns.
    </p>
    <p>
      Our men’s grooming manufacturing line is bold, functional, and made for daily ease. From beard oils, face washes, and aftershave balms to hair gels, body sprays, and moisturizers, our products deliver results without the fuss. We use high-impact ingredients like activated charcoal, menthol, salicylic acid, and caffeine to target oily skin, breakouts, fatigue, and post-shave recovery. Ideal for men managing hectic routines, humid climates, and urban pollution.
    </p>
    <p>
      Whether you're targeting rugged men or urban professionals, our flexible solutions elevate your brand. As a trusted men’s grooming private label and third-party manufacturer in India, we offer beard oil OEM, men’s face wash production, custom styling products, and more. With Vimson Derma, you bring effective, ready-to-launch grooming care to market, crafted for men who expect more.
    </p>
  </div>
</section>

<div class="container-fluid mt-5 mb-5 p-2">
    <div class="row">
      <!-- Left Sidebar (on top for mobile, side for desktop) -->
      <div class="col-12 col-md-3 left-sidebar mb-3 mb-md-0">
        {% for category in categories %}
        <div class="category-item" data-toggle="subcategory" data-target="#{{category.type}}">
          <img src="{{category.svg_file}}" alt="{{category.type}}" class="me-2" />
          <span>{{category.type}}</span>
        </div>
        <div id="{{category.type}}" class="subcategory-list">
            <div class="sub-category-item {{category.type}}">All</div>
            {% for sub in subcategory %}
            {% if sub.category == category.type %}
            <div class="sub-category-item {{category.type}}">{{sub.type}}</div>
            {% endif %}
            {% endfor %}
        </div>
        {% endfor %}
      </div>
  
      
  
      <!-- Right Content -->
      <div class="col-12 col-md-9 right-content">
        <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4">
          <!-- <h6 class="heading choice">Cosmetics</h6> -->
          <!-- <h6 class="heading choice active">Medicated</h6> -->
           <h5 class="heading text-center">Products</h5>
        </div>
        <div class="product-display-list">
            {% for product in products %}
            {% if forloop.first or forloop.counter0|divisibleby:4 %}
            <div class="row g-3">
            {% endif %}
                    <div class="col-sm-12 col-md-4">
                        <div class="product-card {{product.category}} {{product.subcategory}}" id="{{product.id}}">
                          <img src="{{product.image}}" alt="Product" class="product-img mb-2" />
                          <h6 class="heading">{{product.name}}</h6>
                          <div class="product-tags">
                            {% for tag in product.subcategory %}
                            <small class="text-muted">
                               {{tag}}
                              </small>
                            {% endfor %}
                        </div>
                        </div>
                      </div>
        
            {% if forloop.counter|divisibleby:4 or forloop.last %}
            </div> <!-- close row -->
            {% endif %}
        {% endfor %}
        </div>
      </div>
    </div>
  </div>
  
  <!-- JS to toggle subcategories -->
  <script>
    document.querySelectorAll('[data-toggle="subcategory"]').forEach(item => {
      item.addEventListener('click', () => {
        const targetId = item.getAttribute('data-target');
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          targetElement.classList.toggle('show');
        }
      });
    });

    document.querySelectorAll('.heading.choice').forEach(item => {
      item.addEventListener('click', () => {
        document.querySelectorAll('.heading.choice').forEach(i => i.classList.remove('active'));
        item.classList.add('active');
      });
    });

    document.querySelectorAll('.product-card').forEach(item => {
      item.addEventListener('click', () => {
        const productId = item.getAttribute('id');
        window.location.href = `/product/${productId}/`;
      });
    });

    document.querySelectorAll('.sub-category-item').forEach(item => {
      item.addEventListener('click', () => {
        const categoryClass = item.classList[1];
        const subCategoryClass = item.textContent.trim();
        const productCards = document.querySelectorAll('.product-card');
        productCards.forEach(card => {
          if (card.classList.contains(categoryClass) && card.classList.contains(subCategoryClass)) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
      });
    });
  </script>
{%endblock%}